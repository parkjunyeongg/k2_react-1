{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Work\\\\lecreact\\\\src\\\\11\\\\BoxofficeList.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport BoxofficeDetail from \"./BoxofficeDetail\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BoxofficeList = _ref => {\n  _s();\n  let {\n    tDt\n  } = _ref;\n  const [mvlist, setMvlist] = useState();\n  const [mvcd, setCd] = useState();\n  const showDetail = cd => {\n    console.log(cd);\n    setCd(cd);\n  };\n  useEffect(() => {\n    console.log(tDt);\n    if (!tDt) return;\n    const apikey = 'f5eef3421c602c6cb7ea224104795888';\n    let url = `http://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json?`;\n    url = url + `key=${apikey}&`;\n    url = url + `targetDt=${tDt}`;\n    console.log(url);\n    fetch(url).then(resp => resp.json()).then(data => {\n      let temp = data.boxOfficeResult.dailyBoxOfficeList;\n      console.log(\"temp\", temp);\n      setMvlist(temp.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mvrow\",\n        onClick: () => showDetail(item.movieCd),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mvcol1\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mvrank\",\n            children: item.rank\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mvcol2\",\n          children: item.movieNm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mvcol3\",\n          children: parseInt(item.audiCnt).toLocaleString('kr-ko')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)]\n      }, item.movieCd, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)));\n    }).catch(err => console.log(err));\n  }, [tDt]);\n  useEffect(() => {\n    console.log(mvlist);\n  }, [mvlist]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mvcontent\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mvlist\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mvrow0\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mvcol1\",\n          children: \"\\uC21C\\uC704\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mvcol2\",\n          children: \"\\uC601\\uD654\\uBA85\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mvcol3\",\n          children: \"\\uAD00\\uAC1D\\uC218\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), mvlist]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mvdetail\",\n      children: mvcd && /*#__PURE__*/_jsxDEV(BoxofficeDetail, {\n        mvcd: mvcd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 27\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(BoxofficeList, \"sr7d7VZ/0G0RLGp99oQXOb1uIE4=\");\n_c = BoxofficeList;\nexport default BoxofficeList;\nvar _c;\n$RefreshReg$(_c, \"BoxofficeList\");","map":{"version":3,"names":["useState","useEffect","BoxofficeDetail","BoxofficeList","tDt","mvlist","setMvlist","mvcd","setCd","showDetail","cd","console","log","apikey","url","fetch","then","resp","json","data","temp","boxOfficeResult","dailyBoxOfficeList","map","item","movieCd","rank","movieNm","parseInt","audiCnt","toLocaleString","catch","err"],"sources":["D:/React/Work/lecreact/src/11/BoxofficeList.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport BoxofficeDetail from \"./BoxofficeDetail\";\r\n\r\nconst BoxofficeList = ({tDt}) => {\r\n\r\n    const [mvlist, setMvlist] = useState();\r\n    const [mvcd, setCd] = useState();\r\n\r\n    \r\n    const showDetail = (cd) => {\r\n        console.log(cd)\r\n        setCd(cd);\r\n    }\r\n\r\n    \r\n    useEffect(() =>{\r\n        console.log(tDt)\r\n        if (!tDt) return ;\r\n        const apikey = 'f5eef3421c602c6cb7ea224104795888' ;\r\n        let url = `http://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json?`\r\n        url = url + `key=${apikey}&`;\r\n        url = url + `targetDt=${tDt}` ;\r\n\r\n        console.log(url)\r\n        fetch(url)\r\n        .then((resp) => resp.json())\r\n        .then((data) => {\r\n\r\n            let temp = data.boxOfficeResult.dailyBoxOfficeList ;\r\n            console.log(\"temp\", temp)\r\n\r\n            setMvlist(temp.map((item) =>  \r\n                <div className=\"mvrow\" key={item.movieCd} onClick={() => showDetail(item.movieCd)}>\r\n                    <span className=\"mvcol1\"><span className=\"mvrank\">{item.rank}</span></span> \r\n                    <span className=\"mvcol2\">{item.movieNm}</span> \r\n                    <span className=\"mvcol3\">{parseInt(item.audiCnt).toLocaleString('kr-ko')}</span> \r\n                </div>\r\n             )); \r\n        }) \r\n        .catch((err) => console.log(err))\r\n    }, [tDt]);\r\n\r\n\r\n    useEffect(() =>{\r\n        console.log(mvlist)\r\n    }, [mvlist] );\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"mvcontent\">\r\n            <div className=\"mvlist\">\r\n                <div className=\"mvrow0\">\r\n                    <span className=\"mvcol1\">순위</span>\r\n                    <span className=\"mvcol2\">영화명</span>\r\n                    <span className=\"mvcol3\">관객수</span> \r\n                </div> \r\n                {mvlist}    \r\n            </div>\r\n            <div className=\"mvdetail\">\r\n                 {mvcd && <BoxofficeDetail mvcd={mvcd}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n    \r\n    export default BoxofficeList;\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}